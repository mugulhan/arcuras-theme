(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,a=window.wp.i18n,n=window.React,i=window.wp.blockEditor,r=window.wp.components,l=window.wp.data,s=window.wp.element,o=window.wp.apiFetch;var u=e.n(o);const c=({label:e,value:t,onChange:i,help:l,rows:o=20})=>{const[u,c]=(0,s.useState)(0),d=(0,s.useRef)(null),f=(0,s.useRef)(null);return(0,s.useEffect)(()=>{var e;c((e=t||"")?e.split("\n").filter(e=>""!==e.trim()).length:0)},[t]),(0,n.createElement)(r.BaseControl,{label:e,help:l?(0,n.createElement)(n.Fragment,null,l,(0,n.createElement)("div",{style:{marginTop:"8px",fontSize:"12px",color:"#666",fontWeight:"500"}},(0,a.__)("Non-empty lines: ","gufte")+u)):(0,n.createElement)("div",{style:{fontSize:"12px",color:"#666",fontWeight:"500",marginTop:"4px"}},(0,a.__)("Non-empty lines: ","gufte")+u),className:"numbered-textarea-control"},(0,n.createElement)("div",{className:"numbered-textarea-wrapper",style:{position:"relative",border:"1px solid #949494",borderRadius:"2px",backgroundColor:"#fff",paddingLeft:"48px"}},(0,n.createElement)("div",{ref:f,className:"line-numbers",style:{position:"absolute",left:0,top:0,bottom:0,width:"48px",padding:"8px 4px",paddingTop:"8px",backgroundColor:"#f7f7f7",borderRight:"1px solid #ddd",fontSize:"13px",lineHeight:"18.2px",color:"#666",userSelect:"none",overflow:"hidden",fontFamily:"monospace",pointerEvents:"none",whiteSpace:"pre"}},(()=>{const e=(t||"").split("\n");let a=1;return e.map((e,t)=>{const i=""===e.trim(),r=i?"":a;return i||a++,(0,n.createElement)("div",{key:t,className:"line-number"+(i?" empty":""),style:{minWidth:"20px",textAlign:"right",minHeight:"18.2px"}},r)})})()),(0,n.createElement)("textarea",{ref:d,value:t||"",onPaste:e=>{e.preventDefault();const t=(e.clipboardData||window.clipboardData).getData("text/plain")||"",a=e.target,n=a.selectionStart,r=a.selectionEnd,l=a.value||"",s=l.substring(0,n)+t+l.substring(r);i(s),setTimeout(()=>{a.selectionStart=a.selectionEnd=n+t.length,a.focus()},10)},onChange:e=>{i(e.target.value)},onScroll:e=>{f.current&&(f.current.scrollTop=e.target.scrollTop)},rows:o,style:{width:"100%",padding:"8px 12px 0 12px",paddingTop:"8px",border:"none",outline:"none",resize:"vertical",fontSize:"13px",lineHeight:"18.2px",fontFamily:"monospace",minHeight:18.2*o+8+"px",backgroundColor:"transparent",whiteSpace:"pre-wrap"}})))},d=({onTextExtracted:e,languageCode:t="eng",currentLyrics:i=""})=>{const[l,o]=(0,s.useState)(!1),[u,c]=(0,s.useState)(0),[d,f]=(0,s.useState)(null),[m,g]=(0,s.useState)(null),[p,x]=(0,s.useState)([]),[_,h]=(0,s.useState)(0),[y]=(0,s.useState)(i),b=async t=>{if(!t.type.startsWith("image/"))return void g((0,a.__)("Please upload a valid image file.","gufte"));const n=new FileReader;n.onload=e=>{f(e.target.result)},n.readAsDataURL(t),g(null),o(!0),c(50);try{const n=new Promise((e,a)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=a,n.readAsDataURL(t)}),i=await n,r=new FormData;r.append("action","arcuras_gemini_ocr"),r.append("nonce",window.arcurasGeminiOCR?.nonce||""),r.append("image",i),c(70);const l=await fetch(window.arcurasGeminiOCR?.ajax_url||"/wp-admin/admin-ajax.php",{method:"POST",body:r});c(90);const s=await l.json();if(!s.success)throw new Error(s.data||"OCR failed");const o=s.data.text;if(o){const t=[...p,o];x(t),h(e=>e+1);const a=(y?[y,...t]:t).join("\n\n");e(a),c(100)}else g((0,a.__)("No text found in the image. Please try a different image.","gufte"))}catch(e){console.error("Gemini OCR Error:",e),g((0,a.__)("Failed to extract text. Error: ","gufte")+e.message)}finally{o(!1),setTimeout(()=>c(0),500)}};return(0,n.createElement)("div",{style:{marginTop:"16px",padding:"16px",border:"2px dashed #667eea",borderRadius:"8px",backgroundColor:"#f0f7ff"}},(0,n.createElement)("div",{style:{marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"}},(0,n.createElement)("strong",{style:{color:"#667eea",fontSize:"14px"}},"ğŸ“· ",(0,a.__)("Extract Lyrics from Image","gufte"),_>0&&(0,n.createElement)("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#10b981",fontWeight:"normal"}},"âœ“ ",_," ",(0,a.__)("image(s) processed","gufte"))),_>0&&(0,n.createElement)(r.Button,{isSmall:!0,isDestructive:!0,onClick:()=>{f(null),g(null),x([]),h(0),e(y)}},(0,a.__)("Clear All","gufte"))),(0,n.createElement)("p",{style:{fontSize:"13px",color:"#666",marginBottom:"8px"}},(0,a.__)("Upload an image or paste from clipboard (Cmd+V / Ctrl+V) containing lyrics text.","gufte")," ",(0,n.createElement)("strong",null,(0,a.__)("You can upload multiple images","gufte"))," ",(0,a.__)("- they will be combined automatically.","gufte")),(0,n.createElement)("p",{style:{fontSize:"12px",color:"#10b981",marginBottom:"12px",backgroundColor:"#ecfdf5",padding:"8px",borderRadius:"4px",border:"1px solid #6ee7b7"}},"âœ¨ ",(0,a.__)("Powered by Google Gemini Vision - Advanced AI text extraction with high accuracy","gufte")),(0,n.createElement)("div",{contentEditable:!0,onPaste:async e=>{const t=e.clipboardData?.items;if(t)for(let a=0;a<t.length;a++)if(t[a].type.startsWith("image/")){e.preventDefault();const n=t[a].getAsFile();n&&await b(n);break}},style:{padding:"20px",marginBottom:"12px",border:"2px dashed #667eea",borderRadius:"8px",backgroundColor:"white",textAlign:"center",cursor:"text",minHeight:"80px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"13px",color:"#999"},suppressContentEditableWarning:!0},l?(0,n.createElement)("span",{style:{color:"#667eea"}},"â³ ",(0,a.__)("Processing...","gufte")):(0,n.createElement)("span",null,"ğŸ“‹ ",(0,a.__)("Click here and paste image (Cmd+V / Ctrl+V)","gufte"),(0,n.createElement)("br",null),(0,n.createElement)("span",{style:{fontSize:"11px"}},(0,a.__)("or use the upload button below","gufte")))),d&&(0,n.createElement)("div",{style:{marginBottom:"12px"}},(0,n.createElement)("img",{src:d,alt:"Preview",style:{maxWidth:"100%",maxHeight:"200px",objectFit:"contain",border:"1px solid #ddd",borderRadius:"4px"}}),(0,n.createElement)(r.Button,{isSmall:!0,isDestructive:!0,onClick:()=>{f(null),g(null)},style:{marginTop:"8px"}},(0,a.__)("Clear","gufte"))),(0,n.createElement)("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"}},(0,n.createElement)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files?.[0];t&&await b(t)},disabled:l,id:"lyrics-image-upload",style:{display:"none"}}),(0,n.createElement)("label",{htmlFor:"lyrics-image-upload",style:{cursor:"pointer",display:"inline-block"}},(0,n.createElement)(r.Button,{variant:"primary",disabled:l,onClick:e=>{e.preventDefault(),document.getElementById("lyrics-image-upload")?.click()}},l?`${(0,a.__)("Processing...","gufte")} ${u}%`:"ğŸ“· "+(0,a.__)("Upload Image","gufte"))),l&&(0,n.createElement)("span",{style:{fontSize:"13px",color:"#667eea"}},"â³ ",(0,a.__)("Extracting text...","gufte"))),l&&u>0&&(0,n.createElement)("div",{style:{marginTop:"12px",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",overflow:"hidden"}},(0,n.createElement)("div",{style:{height:"100%",width:`${u}%`,backgroundColor:"#667eea",transition:"width 0.3s ease"}})),m&&(0,n.createElement)("div",{style:{marginTop:"12px",padding:"10px",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"4px",color:"#c00",fontSize:"13px"}},"âŒ ",m),(0,n.createElement)("div",{style:{marginTop:"12px",fontSize:"12px",color:"#999"}},"ğŸ’¡ ",(0,a.__)("Tip: Works best with clear, high-contrast images. Current language:","gufte")," ",(0,n.createElement)("strong",null,t.toUpperCase())))},f=[{value:"en",label:"English"},{value:"es",label:"Spanish (EspaÃ±ol)"},{value:"tr",label:"Turkish (TÃ¼rkÃ§e)"},{value:"fr",label:"French (FranÃ§ais)"},{value:"de",label:"German (Deutsch)"},{value:"it",label:"Italian (Italiano)"},{value:"pt",label:"Portuguese (PortuguÃªs)"},{value:"ar",label:"Arabic (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)"},{value:"ru",label:"Russian (Ğ ÑƒÑÑĞºĞ¸Ğ¹)"},{value:"ja",label:"Japanese (æ—¥æœ¬èª)"},{value:"ko",label:"Korean (í•œêµ­ì–´)"},{value:"zh",label:"Chinese (ä¸­æ–‡)"},{value:"hi",label:"Hindi (à¤¹à¤¿à¤¨à¥à¤¦à¥€)"},{value:"nl",label:"Dutch (Nederlands)"},{value:"pl",label:"Polish (Polski)"},{value:"sv",label:"Swedish (Svenska)"},{value:"no",label:"Norwegian (Norsk)"},{value:"da",label:"Danish (Dansk)"},{value:"fi",label:"Finnish (Suomi)"},{value:"el",label:"Greek (Î•Î»Î»Î·Î½Î¹ÎºÎ¬)"},{value:"he",label:"Hebrew (×¢×‘×¨×™×ª)"},{value:"uk",label:"Ukrainian (Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°)"},{value:"cs",label:"Czech (ÄŒeÅ¡tina)"},{value:"ro",label:"Romanian (RomÃ¢nÄƒ)"},{value:"hu",label:"Hungarian (Magyar)"},{value:"th",label:"Thai (à¹„à¸—à¸¢)"},{value:"vi",label:"Vietnamese (Tiáº¿ng Viá»‡t)"},{value:"id",label:"Indonesian (Bahasa Indonesia)"},{value:"ba",label:"Bashkir (Ğ‘Ğ°ÑˆÒ¡Ğ¾Ñ€Ñ‚ Ñ‚ĞµĞ»Ğµ)"},{value:"az",label:"Azerbaijani (AzÉ™rbaycan)"},{value:"kk",label:"Kazakh (ÒšĞ°Ğ·Ğ°Ò›ÑˆĞ°)"}],m={en:{original_suffix:"Lyrics, Translations and Annotations",meta_suffix:"Read lyrics, discover translations in multiple languages, and explore detailed annotations",translation_suffix:"Translation",translation_meta_suffix:"Translated lyrics with original text and annotations"},es:{original_suffix:"Letras, Traducciones y Anotaciones",meta_suffix:"Lee las letras, descubre traducciones en varios idiomas y explora anotaciones detalladas",translation_suffix:"TraducciÃ³n al EspaÃ±ol",translation_meta_suffix:"Letras traducidas al espaÃ±ol con texto original y anotaciones"},tr:{original_suffix:"ÅarkÄ± SÃ¶zleri, Ã‡eviriler ve AÃ§Ä±klamalar",meta_suffix:"ÅarkÄ± sÃ¶zlerini okuyun, birden fazla dilde Ã§evirileri keÅŸfedin ve detaylÄ± aÃ§Ä±klamalarÄ± inceleyin",translation_suffix:"TÃ¼rkÃ§e Ã‡eviri",translation_meta_suffix:"Orijinal metin ve aÃ§Ä±klamalarla birlikte TÃ¼rkÃ§e Ã§eviri"},de:{original_suffix:"Liedtext, Ãœbersetzungen und Anmerkungen",meta_suffix:"Lesen Sie die Texte, entdecken Sie Ãœbersetzungen in mehreren Sprachen und erkunden Sie detaillierte Anmerkungen",translation_suffix:"Deutsche Ãœbersetzung",translation_meta_suffix:"Ãœbersetzte Texte mit Originaltext und Anmerkungen"},fr:{original_suffix:"Paroles, Traductions et Annotations",meta_suffix:"Lisez les paroles, dÃ©couvrez les traductions en plusieurs langues et explorez les annotations dÃ©taillÃ©es",translation_suffix:"Traduction FranÃ§aise",translation_meta_suffix:"Paroles traduites en franÃ§ais avec texte original et annotations"},ar:{original_suffix:"ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£ØºÙ†ÙŠØ© ÙˆØ§Ù„ØªØ±Ø¬Ù…Ø§Øª ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª",meta_suffix:"Ø§Ù‚Ø±Ø£ Ø§Ù„ÙƒÙ„Ù…Ø§ØªØŒ Ø§ÙƒØªØ´Ù Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª Ø¨Ø¹Ø¯Ø© Ù„ØºØ§ØªØŒ ÙˆØ§Ø³ØªÙƒØ´Ù Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©",translation_suffix:"ØªØ±Ø¬Ù…Ø© Ø¹Ø±Ø¨ÙŠØ©",translation_meta_suffix:"ÙƒÙ„Ù…Ø§Øª Ù…ØªØ±Ø¬Ù…Ø© Ù…Ø¹ Ø§Ù„Ù†Øµ Ø§Ù„Ø£ØµÙ„ÙŠ ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª"},it:{original_suffix:"Testo, Traduzioni e Annotazioni",meta_suffix:"Leggi i testi, scopri le traduzioni in piÃ¹ lingue ed esplora le annotazioni dettagliate",translation_suffix:"Traduzione Italiana",translation_meta_suffix:"Testo tradotto in italiano con testo originale e annotazioni"},pt:{original_suffix:"Letras, TraduÃ§Ãµes e AnotaÃ§Ãµes",meta_suffix:"Leia as letras, descubra traduÃ§Ãµes em vÃ¡rios idiomas e explore anotaÃ§Ãµes detalhadas",translation_suffix:"TraduÃ§Ã£o em PortuguÃªs",translation_meta_suffix:"Letras traduzidas em portuguÃªs com texto original e anotaÃ§Ãµes"},ru:{original_suffix:"Ğ¢ĞµĞºÑÑ‚ Ğ¿ĞµÑĞ½Ğ¸, Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹ Ğ¸ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸",meta_suffix:"Ğ§Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ‚ĞµĞºÑÑ‚Ñ‹, Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹ Ğ½Ğ° Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑĞ·Ñ‹ĞºĞ¾Ğ² Ğ¸ Ğ¸Ğ·ÑƒÑ‡Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸",translation_suffix:"Ğ ÑƒÑÑĞºĞ¸Ğ¹ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´",translation_meta_suffix:"ĞŸĞµÑ€ĞµĞ²ĞµĞ´ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚ Ñ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»Ğ¾Ğ¼ Ğ¸ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸ÑĞ¼Ğ¸"},ja:{original_suffix:"æ­Œè©ã€ç¿»è¨³ã€æ³¨é‡ˆ",meta_suffix:"æ­Œè©ã‚’èª­ã¿ã€è¤‡æ•°è¨€èªã®ç¿»è¨³ã‚’ç™ºè¦‹ã—ã€è©³ç´°ãªæ³¨é‡ˆã‚’æ¢ç´¢ã—ã¦ãã ã•ã„",translation_suffix:"æ—¥æœ¬èªç¿»è¨³",translation_meta_suffix:"åŸæ–‡ã¨æ³¨é‡ˆä»˜ãã®æ—¥æœ¬èªè¨³æ­Œè©"},ko:{original_suffix:"ê°€ì‚¬, ë²ˆì—­ ë° ì£¼ì„",meta_suffix:"ê°€ì‚¬ë¥¼ ì½ê³ , ì—¬ëŸ¬ ì–¸ì–´ë¡œ ëœ ë²ˆì—­ì„ ë°œê²¬í•˜ê³ , ìì„¸í•œ ì£¼ì„ì„ ì‚´í´ë³´ì„¸ìš”",translation_suffix:"í•œêµ­ì–´ ë²ˆì—­",translation_meta_suffix:"ì›ë¬¸ ë° ì£¼ì„ê³¼ í•¨ê»˜ í•œêµ­ì–´ë¡œ ë²ˆì—­ëœ ê°€ì‚¬"},zh:{original_suffix:"æ­Œè¯ã€ç¿»è¯‘å’Œæ³¨é‡Š",meta_suffix:"é˜…è¯»æ­Œè¯ï¼Œå‘ç°å¤šè¯­è¨€ç¿»è¯‘ï¼Œæ¢ç´¢è¯¦ç»†æ³¨é‡Š",translation_suffix:"ä¸­æ–‡ç¿»è¯‘",translation_meta_suffix:"å¸¦åŸæ–‡å’Œæ³¨é‡Šçš„ä¸­æ–‡ç¿»è¯‘æ­Œè¯"},hi:{original_suffix:"à¤—à¥€à¤¤, à¤…à¤¨à¥à¤µà¤¾à¤¦ à¤”à¤° à¤Ÿà¤¿à¤ªà¥à¤ªà¤£à¤¿à¤¯à¤¾à¤",meta_suffix:"à¤—à¥€à¤¤ à¤ªà¤¢à¤¼à¥‡à¤‚, à¤•à¤ˆ à¤­à¤¾à¤·à¤¾à¤“à¤‚ à¤®à¥‡à¤‚ à¤…à¤¨à¥à¤µà¤¾à¤¦ à¤–à¥‹à¤œà¥‡à¤‚ à¤”à¤° à¤µà¤¿à¤¸à¥à¤¤à¥ƒà¤¤ à¤Ÿà¤¿à¤ªà¥à¤ªà¤£à¤¿à¤¯à¥‹à¤‚ à¤•à¤¾ à¤…à¤¨à¥à¤µà¥‡à¤·à¤£ à¤•à¤°à¥‡à¤‚",translation_suffix:"à¤¹à¤¿à¤‚à¤¦à¥€ à¤…à¤¨à¥à¤µà¤¾à¤¦",translation_meta_suffix:"à¤®à¥‚à¤² à¤ªà¤¾à¤  à¤”à¤° à¤Ÿà¤¿à¤ªà¥à¤ªà¤£à¤¿à¤¯à¥‹à¤‚ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‡à¤‚ à¤…à¤¨à¥à¤µà¤¾à¤¦à¤¿à¤¤ à¤—à¥€à¤¤"},nl:{original_suffix:"Songteksten, Vertalingen en Annotaties",meta_suffix:"Lees songteksten, ontdek vertalingen in meerdere talen en verken gedetailleerde annotaties",translation_suffix:"Nederlandse Vertaling",translation_meta_suffix:"Nederlandse vertaling met originele tekst en annotaties"},pl:{original_suffix:"Teksty Piosenek, TÅ‚umaczenia i Adnotacje",meta_suffix:"Czytaj teksty, odkrywaj tÅ‚umaczenia w wielu jÄ™zykach i przeglÄ…daj szczegÃ³Å‚owe adnotacje",translation_suffix:"Polskie TÅ‚umaczenie",translation_meta_suffix:"Polskie tÅ‚umaczenie z oryginalnym tekstem i adnotacjami"},sv:{original_suffix:"Texter, Ã–versÃ¤ttningar och Kommentarer",meta_suffix:"LÃ¤s texter, upptÃ¤ck Ã¶versÃ¤ttningar pÃ¥ flera sprÃ¥k och utforska detaljerade kommentarer",translation_suffix:"Svensk Ã–versÃ¤ttning",translation_meta_suffix:"Svensk Ã¶versÃ¤ttning med originaltext och kommentarer"},no:{original_suffix:"Tekster, Oversettelser og Merknader",meta_suffix:"Les tekster, oppdag oversettelser pÃ¥ flere sprÃ¥k og utforsk detaljerte merknader",translation_suffix:"Norsk Oversettelse",translation_meta_suffix:"Norsk oversettelse med originaltekst og merknader"},da:{original_suffix:"Tekster, OversÃ¦ttelser og Annotationer",meta_suffix:"LÃ¦s tekster, opdag oversÃ¦ttelser pÃ¥ flere sprog og udforsk detaljerede annotationer",translation_suffix:"Dansk OversÃ¦ttelse",translation_meta_suffix:"Dansk oversÃ¦ttelse med originaltekst og annotationer"},fi:{original_suffix:"Sanoitukset, KÃ¤Ã¤nnÃ¶kset ja Huomautukset",meta_suffix:"Lue sanoituksia, lÃ¶ydÃ¤ kÃ¤Ã¤nnÃ¶ksiÃ¤ useilla kielillÃ¤ ja tutustu yksityiskohtaisiin huomautuksiin",translation_suffix:"Suomenkielinen KÃ¤Ã¤nnÃ¶s",translation_meta_suffix:"Suomenkielinen kÃ¤Ã¤nnÃ¶s alkuperÃ¤istekstin ja huomautusten kanssa"},el:{original_suffix:"Î£Ï„Î¯Ï‡Î¿Î¹, ÎœÎµÏ„Î±Ï†ÏÎ¬ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚",meta_suffix:"Î”Î¹Î±Î²Î¬ÏƒÏ„Îµ ÏƒÏ„Î¯Ï‡Î¿Ï…Ï‚, Î±Î½Î±ÎºÎ±Î»ÏÏˆÏ„Îµ Î¼ÎµÏ„Î±Ï†ÏÎ¬ÏƒÎµÎ¹Ï‚ ÏƒÎµ Ï€Î¿Î»Î»Î­Ï‚ Î³Î»ÏÏƒÏƒÎµÏ‚ ÎºÎ±Î¹ ÎµÎ¾ÎµÏÎµÏ…Î½Î®ÏƒÏ„Îµ Î»ÎµÏ€Ï„Î¿Î¼ÎµÏÎµÎ¯Ï‚ ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚",translation_suffix:"Î•Î»Î»Î·Î½Î¹ÎºÎ® ÎœÎµÏ„Î¬Ï†ÏÎ±ÏƒÎ·",translation_meta_suffix:"Î•Î»Î»Î·Î½Î¹ÎºÎ® Î¼ÎµÏ„Î¬Ï†ÏÎ±ÏƒÎ· Î¼Îµ Î±ÏÏ‡Î¹ÎºÏŒ ÎºÎµÎ¯Î¼ÎµÎ½Î¿ ÎºÎ±Î¹ ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚"},he:{original_suffix:"××™×œ×™×, ×ª×¨×’×•××™× ×•×”×¢×¨×•×ª",meta_suffix:"×§×¨× ××™×œ×™×, ×’×œ×” ×ª×¨×’×•××™× ×‘××¡×¤×¨ ×©×¤×•×ª ×•×—×§×•×¨ ×”×¢×¨×•×ª ××¤×•×¨×˜×•×ª",translation_suffix:"×ª×¨×’×•× ×¢×‘×¨×™",translation_meta_suffix:"×ª×¨×’×•× ×¢×‘×¨×™ ×¢× ×˜×§×¡×˜ ××§×•×¨×™ ×•×”×¢×¨×•×ª"},uk:{original_suffix:"Ğ¢ĞµĞºÑÑ‚Ğ¸ Ğ¿Ñ–ÑĞµĞ½ÑŒ, Ğ¿ĞµÑ€ĞµĞºĞ»Ğ°Ğ´Ğ¸ Ñ‚Ğ° ĞºĞ¾Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ñ–",meta_suffix:"Ğ§Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ‚ĞµĞºÑÑ‚Ğ¸, Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¿ĞµÑ€ĞµĞºĞ»Ğ°Ğ´Ğ¸ ĞºÑ–Ğ»ÑŒĞºĞ¾Ğ¼Ğ° Ğ¼Ğ¾Ğ²Ğ°Ğ¼Ğ¸ Ñ‚Ğ° Ğ²Ğ¸Ğ²Ñ‡Ğ°Ğ¹Ñ‚Ğµ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ– ĞºĞ¾Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ñ–",translation_suffix:"Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¸Ğ¹ Ğ¿ĞµÑ€ĞµĞºĞ»Ğ°Ğ´",translation_meta_suffix:"Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¸Ğ¹ Ğ¿ĞµÑ€ĞµĞºĞ»Ğ°Ğ´ Ğ· Ğ¾Ñ€Ğ¸Ğ³Ñ–Ğ½Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¼ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ¼ Ñ‚Ğ° ĞºĞ¾Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€ÑĞ¼Ğ¸"},cs:{original_suffix:"Texty, PÅ™eklady a PoznÃ¡mky",meta_suffix:"ÄŒtÄ›te texty, objevujte pÅ™eklady v nÄ›kolika jazycÃ­ch a prozkoumÃ¡vejte podrobnÃ© poznÃ¡mky",translation_suffix:"ÄŒeskÃ½ PÅ™eklad",translation_meta_suffix:"ÄŒeskÃ½ pÅ™eklad s pÅ¯vodnÃ­m textem a poznÃ¡mkami"},ro:{original_suffix:"Versuri, Traduceri È™i AdnotÄƒri",meta_suffix:"CiteÈ™te versuri, descoperÄƒ traduceri Ã®n mai multe limbi È™i exploreazÄƒ adnotÄƒri detaliate",translation_suffix:"Traducere Ã®n RomÃ¢nÄƒ",translation_meta_suffix:"Traducere Ã®n romÃ¢nÄƒ cu text original È™i adnotÄƒri"},hu:{original_suffix:"DalszÃ¶vegek, FordÃ­tÃ¡sok Ã©s MegjegyzÃ©sek",meta_suffix:"Olvasson dalszÃ¶vegeket, fedezzen fel fordÃ­tÃ¡sokat tÃ¶bb nyelven Ã©s fedezze fel a rÃ©szletes megjegyzÃ©seket",translation_suffix:"Magyar FordÃ­tÃ¡s",translation_meta_suffix:"Magyar fordÃ­tÃ¡s az eredeti szÃ¶veggel Ã©s megjegyzÃ©sekkel"},th:{original_suffix:"à¹€à¸™à¸·à¹‰à¸­à¹€à¸à¸¥à¸‡, à¸à¸²à¸£à¹à¸›à¸¥ à¹à¸¥à¸°à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢",meta_suffix:"à¸­à¹ˆà¸²à¸™à¹€à¸™à¸·à¹‰à¸­à¹€à¸à¸¥à¸‡ à¸„à¹‰à¸™à¸à¸šà¸à¸²à¸£à¹à¸›à¸¥à¸«à¸¥à¸²à¸¢à¸ à¸²à¸©à¸² à¹à¸¥à¸°à¸ªà¸³à¸£à¸§à¸ˆà¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¹‚à¸”à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”",translation_suffix:"à¸„à¸³à¹à¸›à¸¥à¸ à¸²à¸©à¸²à¹„à¸—à¸¢",translation_meta_suffix:"à¹€à¸™à¸·à¹‰à¸­à¹€à¸à¸¥à¸‡à¹à¸›à¸¥à¹€à¸›à¹‡à¸™à¸ à¸²à¸©à¸²à¹„à¸—à¸¢à¸à¸£à¹‰à¸­à¸¡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸•à¹‰à¸™à¸‰à¸šà¸±à¸šà¹à¸¥à¸°à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢"},vi:{original_suffix:"Lá»i bÃ i hÃ¡t, Báº£n dá»‹ch vÃ  ChÃº thÃ­ch",meta_suffix:"Äá»c lá»i bÃ i hÃ¡t, khÃ¡m phÃ¡ báº£n dá»‹ch báº±ng nhiá»u ngÃ´n ngá»¯ vÃ  khÃ¡m phÃ¡ chÃº thÃ­ch chi tiáº¿t",translation_suffix:"Báº£n dá»‹ch Tiáº¿ng Viá»‡t",translation_meta_suffix:"Lá»i bÃ i hÃ¡t Ä‘Æ°á»£c dá»‹ch sang tiáº¿ng Viá»‡t vá»›i vÄƒn báº£n gá»‘c vÃ  chÃº thÃ­ch"},id:{original_suffix:"Lirik, Terjemahan dan Anotasi",meta_suffix:"Baca lirik, temukan terjemahan dalam berbagai bahasa dan jelajahi anotasi terperinci",translation_suffix:"Terjemahan Bahasa Indonesia",translation_meta_suffix:"Lirik terjemahan bahasa Indonesia dengan teks asli dan anotasi"},ba:{original_suffix:"Ğ™Ñ‹Ñ€ Ò»Ò¯Ò™Ò™Ó™Ñ€Ğµ, Ñ‚Ó™Ñ€Ğ¶ĞµĞ¼Ó™Ğ»Ó™Ñ€ Ò»Ó™Ğ¼ Ğ°Ò£Ğ»Ğ°Ñ‚Ğ¼Ğ°Ğ»Ğ°Ñ€",meta_suffix:"Ğ™Ñ‹Ñ€ Ò»Ò¯Ò™Ò™Ó™Ñ€ĞµĞ½ ÑƒÒ¡Ñ‹Ò“Ñ‹Ò™, Ñ‚Ó©Ñ€Ğ»Ó© Ñ‚ĞµĞ»Ğ´Ó™Ñ€Ò™Ó™Ğ³Ğµ Ñ‚Ó™Ñ€Ğ¶ĞµĞ¼Ó™Ğ»Ó™Ñ€Ò™Ğµ Ñ‚Ğ°Ğ±Ñ‹Ò“Ñ‹Ò™ Ò»Ó™Ğ¼ Ñ‚ÑƒĞ»Ñ‹ Ğ°Ò£Ğ»Ğ°Ñ‚Ğ¼Ğ°Ğ»Ğ°Ñ€Ò™Ñ‹ Ó©Ğ¹Ñ€Ó™Ğ½ĞµĞ³ĞµÒ™",translation_suffix:"Ğ‘Ğ°ÑˆÒ¡Ğ¾Ñ€Ñ‚ Ñ‚Ó™Ñ€Ğ¶ĞµĞ¼Ó™Ò»Ğµ",translation_meta_suffix:"Ğ‘Ğ°ÑˆÒ¡Ğ¾Ñ€Ñ‚ Ñ‚ĞµĞ»ĞµĞ½Ó™ Ñ‚Ó™Ñ€Ğ¶ĞµĞ¼Ó™ Ğ¸Ñ‚ĞµĞ»Ğ³Ó™Ğ½ Ğ¹Ñ‹Ñ€ Ò»Ò¯Ò™Ò™Ó™Ñ€Ğµ, Ñ‚Ó©Ğ¿ Ñ‚ĞµĞºÑÑ‚ Ò»Ó™Ğ¼ Ğ°Ò£Ğ»Ğ°Ñ‚Ğ¼Ğ°Ğ»Ğ°Ñ€ Ğ¼ĞµĞ½Ó™Ğ½"},az:{original_suffix:"MahnÄ± sÃ¶zlÉ™ri, TÉ™rcÃ¼mÉ™lÉ™r vÉ™ AÃ§Ä±qlamalar",meta_suffix:"MahnÄ± sÃ¶zlÉ™rini oxuyun, mÃ¼xtÉ™lif dillÉ™rdÉ™ tÉ™rcÃ¼mÉ™lÉ™ri kÉ™ÅŸf edin vÉ™ É™traflÄ± aÃ§Ä±qlamalarÄ± araÅŸdÄ±rÄ±n",translation_suffix:"AzÉ™rbaycan dilinÉ™ tÉ™rcÃ¼mÉ™",translation_meta_suffix:"Orijinal mÉ™tn vÉ™ aÃ§Ä±qlamalarla birlikdÉ™ AzÉ™rbaycan dilinÉ™ tÉ™rcÃ¼mÉ™ edilmiÅŸ mahnÄ± sÃ¶zlÉ™ri"},kk:{original_suffix:"Ó˜Ğ½ ÑÓ©Ğ·Ğ´ĞµÑ€Ñ–, ĞÑƒĞ´Ğ°Ñ€Ğ¼Ğ°Ğ»Ğ°Ñ€ Ğ¶Ó™Ğ½Ğµ Ğ¢Ò¯ÑÑ–Ğ½Ñ–ĞºÑ‚ĞµĞ¼ĞµĞ»ĞµÑ€",meta_suffix:"Ó˜Ğ½ ÑÓ©Ğ·Ğ´ĞµÑ€Ñ–Ğ½ Ğ¾Ò›Ñ‹Ò£Ñ‹Ğ·, Ó™Ñ€Ñ‚Ò¯Ñ€Ğ»Ñ– Ñ‚Ñ–Ğ»Ğ´ĞµÑ€Ğ´ĞµĞ³Ñ– Ğ°ÑƒĞ´Ğ°Ñ€Ğ¼Ğ°Ğ»Ğ°Ñ€Ğ´Ñ‹ Ñ‚Ğ°Ğ±Ñ‹Ò£Ñ‹Ğ· Ğ¶Ó™Ğ½Ğµ Ñ‚Ğ¾Ğ»Ñ‹Ò› Ñ‚Ò¯ÑÑ–Ğ½Ñ–ĞºÑ‚ĞµĞ¼ĞµĞ»ĞµÑ€Ğ´Ñ– Ğ·ĞµÑ€Ñ‚Ñ‚ĞµÒ£Ñ–Ğ·",translation_suffix:"ÒšĞ°Ğ·Ğ°Ò› Ñ‚Ñ–Ğ»Ñ–Ğ½Ğµ Ğ°ÑƒĞ´Ğ°Ñ€Ğ¼Ğ°",translation_meta_suffix:"Ğ¢Ò¯Ğ¿Ğ½Ò±ÑÒ›Ğ° Ğ¼Ó™Ñ‚Ñ–Ğ½ Ğ¶Ó™Ğ½Ğµ Ñ‚Ò¯ÑÑ–Ğ½Ñ–ĞºÑ‚ĞµĞ¼ĞµĞ»ĞµÑ€Ğ¼ĞµĞ½ Ğ±Ñ–Ñ€Ğ³Ğµ Ò›Ğ°Ğ·Ğ°Ò› Ñ‚Ñ–Ğ»Ñ–Ğ½Ğµ Ğ°ÑƒĞ´Ğ°Ñ€Ñ‹Ğ»Ò“Ğ°Ğ½ Ó™Ğ½ ÑÓ©Ğ·Ğ´ĞµÑ€Ñ–"}};function g(e){if(!e)return[];const t=e.split("\n"),a=[];let n=[],i=-1;for(let e=0;e<t.length;e++)""===t[e].trim()?n.length>0&&(a.push({lines:n,startIndex:i,normalized:n.join(" ").toLowerCase().trim()}),n=[],i=-1):(0===n.length&&(i=e),n.push(t[e]));n.length>0&&a.push({lines:n,startIndex:i,normalized:n.join(" ").toLowerCase().trim()});const r={};a.forEach((e,t)=>{const a=e.normalized;r[a]||(r[a]=[]),r[a].push(t)});const l=[];let s=1;const o=new Set;return a.forEach((e,t)=>{const a=e.normalized;r[a].length>=2?o.has(a)||(l.push({name:"Chorus",type:"chorus",startIndex:e.startIndex}),o.add(a)):(l.push({name:"Verse "+s,type:"verse",startIndex:e.startIndex}),s++)}),l}(0,t.registerBlockType)("arcuras/lyrics-translations",{title:(0,a.__)("Lyrics & Translations","gufte"),icon:"translation",category:"widgets",supports:{align:!1,anchor:!1,customClassName:!0,html:!1,reusable:!0},attributes:{languages:{type:"array",default:[{code:"en",name:"English",lyrics:"",isOriginal:!0}]},autoDetectSections:{type:"boolean",default:!0},sectionComments:{type:"object",default:{}}},edit:({attributes:e,setAttributes:t})=>{const{languages:o,sectionComments:p,autoDetectSections:x}=e,[_,h]=(0,s.useState)(null),[y,b]=(0,s.useState)(null),[v,k]=(0,s.useState)(f),E=(0,l.useSelect)(e=>e("core/editor")?.getEditedPostAttribute("title")||"Song Title",[]);(0,s.useEffect)(()=>{u()({path:"/arcuras/v1/language-seo-settings"}).then(e=>{b(e);const t=Object.keys(e).map(t=>({value:t,label:e[t].name?`${e[t].name} (${t.toUpperCase()})`:t.toUpperCase()})),a=[...f];t.forEach(e=>{a.some(t=>t.value===e.value)||a.push(e)}),a.sort((e,t)=>e.label.localeCompare(t.label)),k(a)}).catch(e=>{console.error("Error fetching SEO settings:",e)})},[]);const w=(0,i.useBlockProps)({className:"lyrics-block-wrapper"}),z=(e,a,n)=>{const i=o.map((t,i)=>i===e?{...t,[a]:n}:t);t({languages:i})},S=()=>v.filter(e=>!o.some(t=>t.code===e.value)),T=o.map((e,t)=>({name:e.code,title:e.name+(e.isOriginal?" â˜…":""),className:"lyrics-tab-"+e.code}));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.InspectorControls,null,(0,n.createElement)(r.PanelBody,{title:(0,a.__)("Languages","gufte"),initialOpen:!0},(0,n.createElement)("p",{className:"components-base-control__help"},(0,a.__)("Add or remove translation languages for this song.","gufte"))),(0,n.createElement)(r.PanelBody,{title:(0,a.__)("Section Detection","gufte"),initialOpen:!1},(0,n.createElement)(r.ToggleControl,{label:(0,a.__)("Auto-detect Sections","gufte"),help:x?(0,a.__)("Automatically detects Verse and Chorus sections based on repetition patterns.","gufte"):(0,a.__)("Use manual [Verse 1], [Chorus] markers in your lyrics.","gufte"),checked:x||!1,onChange:e=>t({autoDetectSections:e})}),!x&&(0,n.createElement)("p",{className:"components-base-control__help",style:{marginTop:"12px",padding:"12px",background:"#f0f7ff",borderRadius:"4px",fontSize:"13px"}},(0,a.__)("Manual mode: Add [Verse 1], [Chorus], [Bridge], etc. at the start of lines.","gufte")),(()=>{if(!x)return null;const e=o.find(e=>e.isOriginal)||o[0];if(!e||!e.lyrics)return(0,n.createElement)("p",{className:"components-base-control__help",style:{marginTop:"12px",padding:"12px",background:"#f9f9f9",borderRadius:"4px",fontSize:"13px",color:"#666"}},(0,a.__)("No sections detected yet. Add lyrics to see detected sections.","gufte"));const t=g(e.lyrics);return 0===t.length?(0,n.createElement)("p",{className:"components-base-control__help",style:{marginTop:"12px",padding:"12px",background:"#f9f9f9",borderRadius:"4px",fontSize:"13px",color:"#666"}},(0,a.__)("No sections detected yet. Add lyrics to see detected sections.","gufte")):(0,n.createElement)("div",{style:{marginTop:"16px",padding:"12px",background:"#f0f7ff",borderRadius:"4px",fontSize:"13px"}},(0,n.createElement)("strong",{style:{display:"block",marginBottom:"8px",color:"#667eea"}},(0,a.__)("Detected Sections:","gufte")),(0,n.createElement)("ul",{style:{margin:"0",paddingLeft:"20px",listStyle:"disc"}},t.map(e=>(0,n.createElement)("li",{key:`${e.name}_${e.startIndex}`,style:{marginBottom:"4px",color:"#1e1e1e"}},(0,n.createElement)("strong",null,e.name),(0,n.createElement)("span",{style:{color:"#666",fontSize:"12px",marginLeft:"6px"}},"(Line ",e.startIndex+1,")")))))})()),(0,n.createElement)(r.PanelBody,{title:(0,a.__)("Section Comments","gufte"),initialOpen:!1},(0,n.createElement)("p",{className:"components-base-control__help",style:{marginBottom:"16px"}},(0,a.__)("Add explanatory comments for each section. Comments will appear when users click on the section.","gufte")),(()=>{const e=function(e,t){const a=new Set,n=e.find(e=>e.isOriginal)||e[0];return n&&n.lyrics?(t?g(n.lyrics).forEach(e=>{a.add(e.name)}):e.forEach(e=>{(function(e){if(!e)return[];const t=e.split("\n"),a=[],n=/^\[(Verse \d+|Chorus|Bridge|Pre-Chorus|Intro|Outro|Hook|Interlude|Post-Chorus)\]/i;for(let e=0;e<t.length;e++){const i=t[e].match(n);i&&a.push({name:i[1],lineIndex:e})}return a})(e.lyrics).forEach(e=>{a.add(e.name)})}),Array.from(a).sort()):[]}(o,x);return 0===e.length?(0,n.createElement)("div",{style:{padding:"12px",background:"#f0f0f1",borderRadius:"4px",fontSize:"13px",textAlign:"center",color:"#666"}},(0,a.__)("No sections detected. Add section markers like [Verse 1], [Chorus] to your lyrics.","gufte")):e.map(e=>(0,n.createElement)("div",{key:e,style:{marginBottom:"20px",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",background:"#fafafa"}},(0,n.createElement)("h4",{style:{margin:"0 0 12px 0",fontSize:"13px",fontWeight:"600",color:"#1e1e1e"}},"ğŸ“Œ ",e),o.map(i=>{const r=((e,t)=>{const a=`${e}__${t}`;return p?.[a]||""})(e,i.code),l=r.length>0;return(0,n.createElement)("div",{key:i.code,style:{marginBottom:"12px"}},(0,n.createElement)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#555"}},i.name," ",l?"âœ“":""),(0,n.createElement)("textarea",{value:r,onChange:a=>((e,a,n)=>{const i=`${e}__${a}`,r={...p};n&&n.trim()?r[i]=n.trim():delete r[i],t({sectionComments:r})})(e,i.code,a.target.value),placeholder:(0,a.__)("Add comment for this section in "+i.name+"...","gufte"),rows:2,style:{width:"100%",padding:"8px",fontSize:"13px",border:"1px solid #ddd",borderRadius:"4px",resize:"vertical",fontFamily:"inherit"}}))})))})())),(0,n.createElement)("div",{...w},(0,n.createElement)("div",{className:"lyrics-translations-editor"},(0,n.createElement)("div",{className:"block-header"},(0,n.createElement)("svg",{className:"block-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,n.createElement)("path",{d:"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z",fill:"currentColor"})),(0,n.createElement)("h3",null,(0,a.__)("Lyrics & Translations","gufte"))),S().length>0&&(0,n.createElement)("div",{className:"language-selector-wrapper"},(0,n.createElement)(r.ComboboxControl,{label:(0,a.__)("Add Translation:","gufte"),value:null,options:S().map(e=>({value:e.value,label:e.label})),onChange:e=>{if(e){const r=v.find(t=>t.value===e);r&&(n=r.value,i=r.label,o.some(e=>e.code===n)?alert((0,a.__)("This language is already added!","gufte")):t({languages:[...o,{code:n,name:i,lyrics:"",isOriginal:!1}]}))}var n,i},placeholder:(0,a.__)("Search for a language...","gufte"),help:(0,a.__)("Can't find your language? Add it from SEO Settings > Manage Languages in the dashboard.","gufte")})),(()=>{const e=o.map(e=>{return{name:e.name,count:(t=e.lyrics,t?t.split("\n").filter(e=>""!==e.trim()).length:0),isOriginal:e.isOriginal};var t}),t=e.find(e=>e.isOriginal);if(!t||0===t.count)return null;const i=e.filter(e=>!e.isOriginal&&e.count>0&&e.count!==t.count);return 0===i.length?null:(0,n.createElement)("div",{style:{padding:"12px",margin:"12px 0",backgroundColor:"#fff3cd",border:"1px solid #ffc107",borderRadius:"4px",fontSize:"13px"}},(0,n.createElement)("strong",{style:{color:"#856404",display:"block",marginBottom:"8px"}},"âš ï¸ ",(0,a.__)("Line Count Mismatch","gufte")),(0,n.createElement)("div",{style:{color:"#856404"}},(0,a.__)("Original","gufte")," (",t.name,"): ",t.count," ",(0,a.__)("lines","gufte")),i.map((e,i)=>(0,n.createElement)("div",{key:i,style:{color:"#856404"}},e.name,": ",e.count," ",(0,a.__)("lines","gufte")," (",e.count>t.count?"+":"",e.count-t.count,")")))})(),(0,n.createElement)(r.TabPanel,{className:"lyrics-tab-panel",activeClass:"is-active",tabs:T,key:JSON.stringify(o.map(e=>({code:e.code,isOriginal:e.isOriginal})))},e=>{const i=o.findIndex(t=>t.code===e.name),l=o[i],s=function(e,t,a=null){const n=e.isOriginal||!1,i=e.code||"en";let r;r=a&&a[i]?a[i]:m[i]||m.en;const l=n?r.original_suffix||m.en.original_suffix:r.translation_suffix||r.original_suffix||e.name+" Translation",s=t?`${t} | ${l}`:`Song Title | ${l}`,o=n?r.meta_suffix||m.en.meta_suffix:r.translation_meta_suffix||r.meta_suffix||m.en.meta_suffix;return{title:s,description:t?`${t} - ${o}`:`Song Title - ${o}`}}(l,E,y);return(0,n.createElement)("div",{className:"lyrics-tab-content"},(0,n.createElement)("div",{className:"language-settings"},(0,n.createElement)(r.ComboboxControl,{label:(0,a.__)("Language","gufte"),value:l.code,options:v.map(e=>({value:e.value,label:e.label})),onChange:e=>{const a=v.find(t=>t.value===e),n=o.map((t,n)=>n===i?{...t,code:e,name:a?a.label:e}:t);t({languages:n})}}),(0,n.createElement)(r.ToggleControl,{label:(0,a.__)("Original Language","gufte"),help:(0,a.__)("Mark this as an original language. You can select multiple originals for bilingual songs.","gufte"),checked:l.isOriginal||!1,onChange:()=>{(e=>{const a=o.map((t,a)=>a===e?{...t,isOriginal:!t.isOriginal}:t);t({languages:a})})(i)}}),(0,n.createElement)("div",{style:{marginTop:"10px",display:"flex",gap:"8px"}},!l.isOriginal&&(0,n.createElement)(r.Button,{variant:"secondary",onClick:()=>(e=>{if(confirm((0,a.__)("This will reorganize your translation to match the original line structure. Continue?","gufte"))){const t=function(e,t){const n=e.find(e=>e.isOriginal);if(!n||!n.lyrics)return alert((0,a.__)("No original lyrics found!","gufte")),null;const i=e[t];if(!i||!i.lyrics)return alert((0,a.__)("Translation is empty!","gufte")),null;const r=n.lyrics.split("\n"),l=i.lyrics.split("\n").filter(e=>""!==e.trim()),s=[];let o=0;for(let e=0;e<r.length;e++)""===r[e].trim()?s.push(""):o<l.length?(s.push(l[o]),o++):s.push("");if(o<l.length){const e=l.length-o;alert((0,a.__)("Warning: Translation has ","gufte")+e+(0,a.__)(" more lines than original. Extra lines were not included.","gufte"))}return s.join("\n")}(o,e);null!==t&&z(e,"lyrics",t)}})(i)},"ğŸ“‹ ",(0,a.__)("Copy Structure from Original","gufte")),o.length>1&&(0,n.createElement)(r.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>(e=>{o.length<=1?alert((0,a.__)("You must have at least one language!","gufte")):t({languages:o.filter((t,a)=>a!==e)})})(i)},(0,a.__)("Remove This Language","gufte")))),!l.isOriginal&&(0,n.createElement)("div",{style:{marginTop:"16px",padding:"16px",border:"2px dashed #10b981",borderRadius:"8px",backgroundColor:"#f0fdf4"}},(0,n.createElement)("div",{style:{marginBottom:"12px"}},(0,n.createElement)("strong",{style:{color:"#10b981",fontSize:"14px"}},"ğŸ¤– ",(0,a.__)("AI Translation","gufte"))),(0,n.createElement)("p",{style:{fontSize:"13px",color:"#666",marginBottom:"12px"}},(0,a.__)("Automatically translate from original lyrics using Groq AI (free & fast).","gufte")),(0,n.createElement)(r.Button,{variant:"primary",onClick:()=>(async e=>{const t=o[e],n=o.find(e=>e.isOriginal);if(n&&n.lyrics)if(window.arcurasAI&&window.arcurasAI.has_api_key){h(e);try{const a=await async function(e,t,a="en"){if(!window.arcurasAI||!window.arcurasAI.has_api_key)throw new Error("DeepSeek API key not configured. Please add it in Arcuras Theme Settings.");const n=new FormData;n.append("action","arcuras_ai_translate"),n.append("nonce",window.arcurasAI.nonce),n.append("text",e),n.append("target_lang",t),n.append("source_lang",a);const i=await fetch(window.arcurasAI.ajax_url,{method:"POST",body:n}),r=await i.json();if(!r.success)throw new Error(r.data||"Translation failed");return r.data.translated_text}(n.lyrics,t.code,n.code);z(e,"lyrics",a)}catch(e){alert((0,a.__)("Translation failed: ","gufte")+e.message)}finally{h(null)}}else alert((0,a.__)("AI API key not configured. Please add Groq or DeepSeek API key in Theme Settings â†’ AI Translation.","gufte"));else alert((0,a.__)("Please add original lyrics first before translating.","gufte"))})(i),disabled:null!==_,style:{backgroundColor:"#10b981",borderColor:"#10b981"}},_===i?(0,n.createElement)(n.Fragment,null,(0,n.createElement)(r.Spinner,null),(0,a.__)("Translating...","gufte")):(0,n.createElement)(n.Fragment,null,"ğŸ¤– ",(0,a.__)("Translate with AI","gufte"))),window.arcurasAI?.model_display&&(0,n.createElement)("p",{style:{marginTop:"8px",fontSize:"11px",color:"#059669",fontWeight:"500"}},"Using: ",window.arcurasAI.provider," - ",window.arcurasAI.model_display)),(0,n.createElement)(d,{languageCode:l.code,currentLyrics:l.lyrics||"",onTextExtracted:e=>{z(i,"lyrics",e)}}),(0,n.createElement)(c,{label:(0,a.__)("Lyrics","gufte"),help:(0,a.__)("Enter lyrics line by line. Use special markers: [Verse 1], [Chorus], [Bridge], etc. at the start of a line to create section headers.","gufte"),value:l.lyrics,onChange:e=>{const t=e.replace(/\t/g,"\n");z(i,"lyrics",t)},rows:20}),(0,n.createElement)("div",{className:"section-markers-help"},(0,n.createElement)("strong",null,(0,a.__)("Section Markers:","gufte")),(0,n.createElement)("br",null),(0,n.createElement)("code",null,"[Verse 1]")," ",(0,n.createElement)("code",null,"[Verse 2]")," ",(0,n.createElement)("code",null,"[Chorus]")," ",(0,n.createElement)("code",null,"[Bridge]")," ",(0,n.createElement)("code",null,"[Outro]"),(0,n.createElement)("br",null),(0,n.createElement)("small",null,(0,a.__)("Add these at the beginning of a line to create section headers","gufte"))),(0,n.createElement)("div",{className:"lyrics-stats"},(0,n.createElement)("span",{className:"stat-item"},(0,a.__)("Lines:","gufte")," ",l.lyrics?l.lyrics.split("\n").filter(e=>e.trim()).length:0),(0,n.createElement)("span",{className:"stat-separator"}," â€¢ "),(0,n.createElement)("span",{className:"stat-item"},(0,a.__)("Words:","gufte")," ",l.lyrics?l.lyrics.split(/\s+/).filter(e=>e.trim()).length:0)),(0,n.createElement)("div",{style:{marginTop:"16px",padding:"16px",background:"#f0f7ff",border:"1px solid #667eea",borderRadius:"8px"}},(0,n.createElement)("div",{style:{fontSize:"12px",fontWeight:"600",color:"#667eea",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"0.5px"}},"ğŸ” SEO Preview"),(0,n.createElement)("div",{style:{marginBottom:"8px"}},(0,n.createElement)("div",{style:{fontSize:"11px",color:"#666",marginBottom:"4px",fontWeight:"500"}},"Title Tag:"),(0,n.createElement)("div",{style:{fontSize:"18px",color:"#1a0dab",fontWeight:"400",lineHeight:"1.3"}},s.title)),(0,n.createElement)("div",null,(0,n.createElement)("div",{style:{fontSize:"11px",color:"#666",marginBottom:"4px",fontWeight:"500"}},"Meta Description:"),(0,n.createElement)("div",{style:{fontSize:"13px",color:"#545454",lineHeight:"1.4"}},s.description))))}))))},save:()=>null})})();